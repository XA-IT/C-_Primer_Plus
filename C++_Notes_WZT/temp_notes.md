### C++ general learning
C++清华：https://www.bilibili.com/video/av20786390

#### 函数
- 含有可变参数的函数
  - 所有实参类型相同，使用`initializer_list<T> lst;`模板初始化，<T>表元素类型，对象元素永远为常量值
  - 类型不同，使用可变参数模板
- 内联函数
  - 不能含有循环与switch语句
  - 定义需在调用之前
  - 不能进行异常接口声明
- constexpr函数
  - 由编译器校验是否为常量表达式
  - 仅能用于字面值类型， 对于指针，constexpr表示常量指针，为顶层const

#### 类
- 类的设计
  - “合法值”是什么
  - 具有何种功能？ 函数、操作符
  - 如何被创建与销毁
  - 如何对对象进行初始化与赋值
  - 如何作为参数传递
  - 谁可以使用？权限？
- 类的成员
  - public
  - private
  - protected
- 类的构造函数
  - 无返回类型，仅在创建对象时调用
  - 默认构造函数 `Clock();` ； 强制使用默认构造函数 e.g. `Clock() =default;`  
  - 初始化列表的使用（比在构造函数中实现更简洁）： 
    ```
    Clock::Clock(int newH, int newM):
      hour(newH), minute(newM){          
      } 
    ```
  - 委托构造函数
    - `Clock(): Clock(0, 0){}`
  - 拷贝构造函数
    - 使用本类对象的const **引用**来拷贝初始化
    - 调用的情景
      - 以本类另一对象初始化
      - 函数中形参使用实参来初始化
      - 返回一个对象时发生拷贝
    - 不希望被拷贝构造：
      - C++98: 将函数声明为private
      - C++11: `Clock() =delete;`
- 析构函数
  - 用于删除对象，进行处理
  - `~类名()`参数表和返回值均为空
- 类的组合
  - 用其他类的对象作为成员
  - 在构造函数中需要对 对象成员进行初始化，形式：`类名::类名(对象成员形参，本类成员形参: 对象1(参数), 对象2(参数)) ...{}` 
  - 在构造函数中 顺序按照定义顺序，未给出的执行默认构造函数，先初始化再进入函数体
  - 组合类构造完成后，临时对象被析构，组合类析构时，先析构自身，再依次析构组合的对象成员，析构顺序相反
- 前向引用声明
  - 在使用前先声明引用类
  - 只能使用符号，不能使用其作为对象或内联函数
- **结构体**
  - 数据成员默认为公有，用于保存数据
  - 可以有函数成员
- 枚举类
  - C++11： `enum class 枚举类型名: 底层类型(默认为int){枚举值列表}`
  - 优势：
    - 强作用域，限制枚举值的作用域
    - 转换限制（无法比较）
    - 可以指定底层类型

#### 数据的共享与保护
- 作用域
  - 局部作用域
  - 类作用域
  - 文件作用域
  - 可见性
    - 同名变量会屏蔽外层变量
- 生存期
  - 静态 `static`
    - e.g. 在函数中再次调用时不再初始化static 变量
  - 动态
- 类的静态数据成员
  - 定义、初始化在类体外
- 静态函数成员
  - 处理整个类的静态数据成员 `static void showCount();`
  - 一般不处理具体对象的数据；
- 友元
  - 友元函数 & 友元类
  - 友元关系为单向的
- 对数据的保护——常量
  - 常对象
  - 常成员
    - 常成员函数： `类型说明符 函数名(参数表) const` 
    - 保证不改变对象状态
  - 常引用
    - 只读的引用
- 多文件的结构与编译预处理
  - 外部变量 `extern` 具有文件作用域
  - **标准C++库**：
    - 输入输出类
    - 容器类与抽象数据类型
    - 存储管理类
    - 算法
    - 错误处理
    - 运行环境支持

#### 数组、指针
- 数组
  - `类型 数组名[常量表达式][常量表达式]`
  - 数组名为常量， 标志首元素的内存地址
  - 二维数组可以只对部分元素初始化，第一维下表数可以省略
    - `static int a[][4] = {{1,2},{1,2,3,4},{12}};`
  - 作为参数传入函数时，传的是首地址，因此原始数组是可被函数修改的
  - 对象数组
    - 对象被依次构造和析构，无初始参数时执行默认初始化
  - C++11：基于范围的for循环
    - `for(int & e: array) {}`
- 指针
  - 初始化 `存储类型 数据类型 *指针名 = 初始地址;`
  - 赋值 注意数据类型相符
    - void类型指针 只能存放地址，不能用于访问，须转换；`void *pv = &i; int *pint = static_cast<int*>(pv);`
  - 空指针 `NULL`, `nullptr`
  - ++与--运算：指向下一个或者前一个元素
  - 